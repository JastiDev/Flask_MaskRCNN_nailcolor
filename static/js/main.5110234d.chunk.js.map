{"version":3,"sources":["components/Message.js","components/Progress.js","components/FileUpload.js","App.js","index.js"],"names":["Message","msg","className","role","type","data-dismiss","aria-label","aria-hidden","Progress","percentage","style","width","FileUpload","useState","setFile","filename","setFilename","uploadedFile","message","uploadedPercentage","isBusy","setIsBusy","buffer","setBuffer","onSubmit","e","a","preventDefault","hd","strImage","replace","pos","length","substr","console","log","axios","post","resp","data","id","onChange","target","files","name","file","fr","FileReader","readAsDataURL","onloadend","buf","result","doBuffer","htmlFor","class","height","value","fileName","src","alt","filePath","App","overflow","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5110234d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Message = ({ msg }) => {\r\n  return (\r\n    <div className=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\r\n      {msg}\r\n      <button\r\n        type=\"button\"\r\n        className=\"close\"\r\n        data-dismiss=\"alert\"\r\n        aria-label=\"Close\"\r\n      >\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nMessage.propTypes = {\r\n  msg: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Progress = ({ percentage }) => {\r\n  return (\r\n    <div className=\"progress\">\r\n      <div\r\n        className=\"progress-bar progress-bar-striped\"\r\n        role=\"progressbar\"\r\n        style={{ width: `${percentage}%` }}\r\n      >\r\n        {percentage}%\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nProgress.propTypes = {\r\n  percentage: PropTypes.number.isRequired\r\n};\r\n\r\nexport default Progress;\r\n","import React, { Fragment, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Message from \"./Message\";\r\nimport Progress from \"./Progress\";\r\n\r\nconst FileUpload = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [filename, setFilename] = useState(\"Choose Image\");\r\n  const [uploadedFile, setUploadedFile] = useState({});\r\n  const [message, setMessage] = useState(\"\");\r\n  const [uploadedPercentage, setUploadedPercentage] = useState(0);\r\n  const [isBusy, setIsBusy] = useState(false);\r\n\r\n  const [buffer, setBuffer] = useState();\r\n\r\n  const doBuffer = file => {\r\n    if (file) {\r\n      const fr = new FileReader();\r\n      fr.readAsDataURL(file);\r\n      fr.onloadend = e => {\r\n        let buf = e.target.result;\r\n        setBuffer(buf);\r\n      };\r\n    }\r\n  };\r\n\r\n  const onChange = e => {\r\n    if (e.target.files.length > 0) {\r\n      setFile(e.target.files[0]);\r\n      setFilename(e.target.files[0].name);\r\n      doBuffer(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    if (buffer) {\r\n      setIsBusy(true);\r\n      let hd = buffer;\r\n      let strImage = buffer.replace(/^data:image\\/[a-z]+;base64,/, \"\");\r\n      let pos = hd.length - strImage.length;\r\n      hd = hd.substr(0, pos);\r\n      console.log(hd);\r\n      let resp = await axios.post(\"/upload\", { buffer: strImage });\r\n      strImage = hd + resp.data;\r\n\r\n      setBuffer(strImage);\r\n      // console.log(strImage);\r\n      setIsBusy(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {message ? <Message msg={message} /> : null}\r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"custom-file\">\r\n          <input\r\n            type=\"file\"\r\n            className=\"custom-file-input\"\r\n            id=\"customFile\"\r\n            onChange={onChange}\r\n          />\r\n          <label className=\"custom-file-label\" htmlFor=\"customFile\">\r\n            {filename}\r\n          </label>\r\n        </div>\r\n\r\n        <Progress percentage={uploadedPercentage} />\r\n        {isBusy ? (\r\n          <div class=\"mt-4 d-flex justify-content-center\">\r\n            <div\r\n              className=\"spinner-border text-primary\"\r\n              role=\"status\"\r\n              style={{ width: \"50px\", height: \"50px\" }}\r\n            >\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Upload\"\r\n            className=\"btn btn-primary btn-block mt-4\"\r\n          />\r\n        )}\r\n      </form>\r\n\r\n      {buffer ? (\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-md-6 m-auto\">\r\n            <h3 className=\"text-center\">{uploadedFile.fileName}</h3>\r\n            <img\r\n              style={{ width: \"100%\", height: \"auto\" }}\r\n              src={buffer}\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      {uploadedFile ? (\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-md-6 m-auto\">\r\n            <h3 className=\"text-center\">{uploadedFile.fileName}</h3>\r\n            <img\r\n              style={{ width: \"100%\", height: \"auto\" }}\r\n              src={uploadedFile.filePath}\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n","import React, { useState } from \"react\";\r\nimport FileUpload from \"./components/FileUpload\";\r\nimport \"./App.css\";\r\nimport axios from \"axios\";\r\n\r\nconst App = () => {\r\n  // const [respShow, setRespShow] = useState(\"\");\r\n  // const [taskId, setTaskId] = useState(\"\");\r\n\r\n  // const onClick0 = async e => {\r\n  //   e.preventDefault();\r\n\r\n  //   try {\r\n  //     const resp = await axios.post(`/test`, { vv: 2020 });\r\n\r\n  //     setRespShow(resp.data);\r\n  //   } catch (err) {}\r\n  // };\r\n\r\n  // const onClick1 = async e => {\r\n  //   e.preventDefault();\r\n\r\n  //   try {\r\n  //     const resp = await axios.post(`/task`, {});\r\n  //     setTaskId(resp.data);\r\n\r\n  //     setRespShow(resp.data);\r\n  //   } catch (err) {}\r\n  // };\r\n\r\n  // const onClick2 = async e => {\r\n  //   e.preventDefault();\r\n\r\n  //   try {\r\n  //     const resp = await axios.get(`/task/${taskId}`);\r\n  //     setRespShow(resp.data);\r\n  //   } catch (err) {}\r\n  // };\r\n\r\n  // const onClick3 = async e => {\r\n  //   e.preventDefault();\r\n\r\n  //   try {\r\n  //     const resp = await axios.put(`/task/${taskId}`);\r\n  //     setRespShow(resp.data);\r\n  //   } catch (err) {}\r\n  // };\r\n\r\n  // const onClick4 = async e => {\r\n  //   e.preventDefault();\r\n\r\n  //   try {\r\n  //     const resp = await axios.delete(`/task/${taskId}`);\r\n  //     setRespShow(resp.data);\r\n  //   } catch (err) {}\r\n  // };\r\n\r\n  return (\r\n    <div className=\"container mt-4\" style={{ overflow: \"None\" }}>\r\n      <h4 className=\"display-6 text-center-mb-4\">\r\n        <i className=\"fa fa-photo mr-4\"></i>\r\n        Nail Color (demo)\r\n      </h4>\r\n      <FileUpload />\r\n      {/* <div className=\"row\">\r\n        <div className=\"col\"></div>\r\n        <div className=\"col\"></div>\r\n        <div className=\"col\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary mt-2\"\r\n            style={{ width: \"80%\" }}\r\n            onClick={onClick0}\r\n          >\r\n            test\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary mt-2\"\r\n            style={{ width: \"80%\" }}\r\n            onClick={onClick1}\r\n          >\r\n            Create Task\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary mt-2\"\r\n            style={{ width: \"80%\" }}\r\n            onClick={onClick2}\r\n          >\r\n            Get Task Info By Id\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary mt-2\"\r\n            style={{ width: \"80%\" }}\r\n            onClick={onClick3}\r\n          >\r\n            Update Task By Id\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary mt-2\"\r\n            style={{ width: \"80%\" }}\r\n            onClick={onClick4}\r\n          >\r\n            Delete Task By Id\r\n          </button>\r\n\r\n          <div className=\"mt-4\">\r\n            response:\r\n            <br /> {respShow}\r\n          </div>\r\n\r\n\r\n        </div>\r\n      \r\n      </div>\r\n     */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}